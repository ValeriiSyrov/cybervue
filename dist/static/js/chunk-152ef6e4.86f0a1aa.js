(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-152ef6e4"],{"6cf3":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pending-article-container"},[a("el-main",[a("el-card",[a("el-header",[a("h2",[e._v("Edit Article")])]),e._v(" "),a("el-form",{ref:"editableForm",attrs:{model:e.editableData,rules:e.rules,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"Title",prop:"title"}},[a("el-input",{attrs:{placeholder:"Title"},model:{value:e.editableData.title,callback:function(t){e.$set(e.editableData,"title",t)},expression:"editableData.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Category",prop:"categoryId"}},[a("el-select",{attrs:{placeholder:"Select category"},model:{value:e.editableData.categoryId,callback:function(t){e.$set(e.editableData,"categoryId",t)},expression:"editableData.categoryId"}},e._l(e.categories,function(e,t){return a("el-option",{key:t,attrs:{value:e._id,label:e.title}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Description",prop:"description"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:5,maxRows:15},placeholder:"Enter description"},model:{value:e.editableData.description,callback:function(t){e.$set(e.editableData,"description",t)},expression:"editableData.description"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Tag",prop:"tag"}},[a("el-input",{attrs:{placeholder:"Tag"},model:{value:e.editableData.tag,callback:function(t){e.$set(e.editableData,"tag",t)},expression:"editableData.tag"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Recommendations",prop:"rec"}},[a("el-input",{attrs:{placeholder:"Recommendations"},model:{value:e.editableData.rec,callback:function(t){e.$set(e.editableData,"rec",t)},expression:"editableData.rec"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Image",prop:"file"}},[a("input",{attrs:{type:"file"},on:{change:function(t){return e.onFileInput(t)}}})]),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"approved"!==this.article_type?"success":"warning",plain:""},domProps:{textContent:e._s("approved"!==this.article_type?"Approve":"Edit")},on:{click:e.onSubmit}})],1)],1)],1)],1)],1)},i=[],l={computed:{editableArticle:function(){return this.$store.state.home.editable_article},categories:function(){return this.$store.state.home.categories.docs}},data:function(){var e=function(e,t,a){t.trim().length>0?a():a(new Error("Please enter the correct title"))},t=function(e,t,a){t.length>0?a():a(new Error("Please enter the correct category"))},a=function(e,t,a){t.trim().length>0?a():a(new Error("Please enter the correct description"))},r=function(e,t,a){t.trim().length>0?a():a(new Error("Please enter the correct tags"))};return{editableData:{title:"",categoryId:"",description:"",tag:"",rec:"",files:""},rules:{title:[{required:!0,trigger:"blur",validator:e}],categoryId:[{required:!0,trigger:"blur",validator:t}],description:[{required:!0,trigger:"blur",validator:a}],tag:[{required:!0,trigger:"blur",validator:r}]},article_type:""}},methods:{onFileInput:function(e){this.editableData.files=e.target.files[0]},onSubmit:function(){var e=this;this.$refs.editableForm.validate(function(t){if(!t)return console.error("error submit!!"),!1;var a=new FormData;for(var r in e.editableData)e.editableData[r]&&a.append(r,e.editableData[r]);a.append("status","approved"),e.$store.dispatch("home/updateArticle",[a,e.$route.params.id])})}},created:function(){var e=this;this.$store.dispatch("home/getArticleById",this.$route.params.id).then(function(t){var a={title:t.data.title,categoryId:t.data.categoryId._id,description:t.data.description,tag:t.data.tag.join(", "),rec:"",files:""};e.article_type=t.data.status,e.editableData=a})}},o=l,n=(a("a9a6"),a("2877")),c=Object(n["a"])(o,r,i,!1,null,null,null);t["default"]=c.exports},a9a6:function(e,t,a){"use strict";var r=a("de56"),i=a.n(r);i.a},de56:function(e,t,a){}}]);